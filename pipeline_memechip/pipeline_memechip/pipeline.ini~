################################################################
#
#
# Pipeline pipeline_src.py configuration file for sphinxreport
#
# 
################################################################
## general options
[general]


rsource=/gfs/devel/ssansom/chartseq/src/PipelineChartseq.R

tracks=../data.dir
#expression=/ifs/projects/stephens/chartseq/expression/

#features=/ifs/projects/stephens/chartseq/features2/
#annot=/ifs/projects/stephens/chartseq/annotations/

#ren_dir=/ifs/projects/stephens/chartseq/renlabTracks/
#dnase_dir=/ifs/projects/stephens/chartseq/dnaseTracks/
#srcdir=/ifs/projects/stephens/chartseq/src

#paupar
#paupar_sequence=/ifs/projects/stephens/chartseq/annotations/paupar.fasta

# the genome to use
genome=mm10

# directory where exported data is located
exportdir=export

# location of indexed genome 
genome_dir=/gfs/mirror/genomes/plain

# name of database
database=csvdb


#promoter length
promoter=10000

# database options for csv2db script
csv2db_options=--backend=sqlite --retry --map=gene_id:str --map=contig:str --map=transcript_id:str 

# scratchdir for data not to be backed up
scratchdir=/tmp

# a version string
version=

[mrna]
# database rith mrna analysis
regulated_genes=/gfs/work/ssansom/irf5/oct20/csvdb

[memechip]
# list of public Db's
motif_db=/gfs/apps/bio/meme-4.11.2/db/motif_databases/JASPAR/JASPAR_CORE_2016.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/uniprobe_mouse.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/chen2008.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/HOCOMOCOv10_MOUSE_mono_meme_format.meme,/gfs/archive/sansom/kgen/archive/paupar/chartseq/jun16_5iso10k/meme.motifs.dir/transfac.filtered.meme

# mode:
# oops - One Occurence Per Seqeunce - meme assumes that each sequence only contains 1 occurence of each motif
#      - fastest and most sensitive, but motifs returned may be "blurry" if any sequences lack them
# zoops - Zero or One Occurence Per Sequence - meme assumes that each sequence contains at most one occurence of each motif
#       - takes twice as long as oops, useful when motif may not be present in all sequences, but less sensitive to weak motifs present in all sequences
# anr - Any Numer of Repetitions - meme assumes that each sequence contains any number of non-overlapping occurences of each motif
#     - Useful if motifs repeat multiple times within a sequence. If this is the case then will be much more sensitve than oops & zoops.
#     - Takes 10x more computing power than option 1 and is less sensitive to weak, non-repeated motifs
mode=zoops

# The number of motifs that MEME should search for. Default = 3
nmotif=3

# No. of peaks meme should search for sequences in. Ranked high -> low in score col. 5
npeaks=50,100,500,1000

# distance from peak center in wich to search for motifs
widths=100,200,500,1000

# Largest allowed dataset for meme. e.g. 600 x 100bp sequences = 600,000 (this is the default max)
# be careful of making this too large as it takes a very long time to run meme on large datasets
meme_maxsize=600000

# bed2fasta.py option: choose from 'dust', 'dustmasker', 'softmask', or 'none'
# softmask for repeat masking in memechip input sequences
mask=softmask


[ame]
# known motifs to search for in infiles
motif_db=/gfs/apps/bio/meme-4.11.2/db/motif_databases/JASPAR/JASPAR_CORE_2016.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/uniprobe_mouse.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/chen2008.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/HOCOMOCOv10_MOUSE_mono_meme_format.meme,/gfs/archive/sansom/kgen/archive/paupar/chartseq/jun16_5iso10k/meme.motifs.dir/transfac.filtered.meme


[mast]
# Specify TFs for mast to search for, must be caps! Will match all Db hits for TF
motifs=ZNF263,CEBPB,PU.1,TF65,P65,SP1,ZN143,NFYA,STAT1,KLF5,KLF4,IRF5

# list of TF Db's
motif_db=/gfs/apps/bio/meme-4.11.2/db/motif_databases/JASPAR/JASPAR_CORE_2016.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/uniprobe_mouse.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/chen2008.meme,/gfs/apps/bio/meme-4.11.2/db/motif_databases/MOUSE/HOCOMOCOv10_MOUSE_mono_meme_format.meme,/gfs/archive/sansom/kgen/archive/paupar/chartseq/jun16_5iso10k/meme.motifs.dir/transfac.filtered.meme

mask=none


[arrays]
#dir=/ifs/projects/stephens/chartseq/arrays/
#database=/ifs/projects/stephens/chartseq/arrays/csvdb
#rsource=/ifs/devel/stephens/chartseq/src/PipelineAffyGene.R
#nisochores=5
#de_dir=/ifs/projects/stephens/chartseq/paupar_arrays/


################################################################
#
# Location of annotation database
#
################################################################
[annotations]

mm10_host=www.ensembl.org

dataset=mmusculus_gene_ensembl

liftup=/gfs/mirror/ucsc/mm9/liftOver/mm9ToMm10.over.chain.gz

database=/gfs/mirror/annotations/mm10_ensembl83/csvdb

mm10dir=/gfs/mirror/annotations/mm10_ensembl83/

# chrom sizes file (chromosome, size)
chrom_sizes=/gfs/mirror/annotations/mm10_ensembl85/assembly.dir/contigs.tsv

# directory with annotation information
#dir9=/ifs/data/annotations/mm9_ensembl67

# eek, trust that we're not screwing any coordinates...
dir=/gfs/mirror/annotations/mm10_ensembl83

iso=annotations.dir/ensg.iso.strata.5.txt


[results]
database="csvdb"

##################################################################
#
# Tissue-specific gene expression
#
####################################################################

[tse]
#geomatrix=/ifs/projects/proj009/data/GSE10246/cels/gcrma_norm_exprs_matrix.txt
#index=/ifs/projects/proj009/data/GSE10246/index_from_cluster


################################################################
################################################################
################################################################
## gat options
################################################################
[gat]
#
#threads=6
#go_threads=2

# number of samples
#num_samples=10000

# mapability track to use
#mapability=50

# fdr to filter
#fdr=0.05

# minimum expected overlap for results to be reported
#min_expected=1000

#workspace=/ifs/data/annotations/mm9_ensembl67/mapability/mapability_50.filtered.bed.gz
#isochore=/ifs/data/annotations/mm9_ensembl64/gcprofile_bins.bed.gz


##################################################################
## go analysis
##################################################################
[go]
imputed=ontologies.dir/go.tsv.gz

minimum_counts=3


##################################################################
## ehancer analysis
##################################################################
[enhancer]

#bam files to use
#h3k4me1_rep1=/ifs/projects/stephens/chartseq/annotations/wgEncodeLicrHistoneWbrainH3k04me1UE14halfC57bl6StdAlnRep1V2.bam
#h3k4me1_rep2=/ifs/projects/stephens/chartseq/annotations/wgEncodeLicrHistoneWbrainH3k04me1UE14halfC57bl6StdAlnRep2V2.bam
#h3k4me3_rep1=/ifs/projects/stephens/chartseq/annotations/wgEncodeLicrHistoneWbrainH3k04me3UE14halfC57bl6StdAlnRep1V2.bam
#h3k4me3_rep2=/ifs/projects/stephens/chartseq/annotations/wgEncodeLicrHistoneWbrainH3k04me3UE14halfC57bl6StdAlnRep2.bam

#window=250

###################################################################
## features
#####################################################################[features]
padding=250

[great]
#extend basal domain up and down (bp)
basal_up=5000
basal_down=1000

#maximum extension (bp)
max=1000000

#restrict extensions to half way to the nearest gene (False|True)
half=False

################################################################
#
# Jupyter report settings
#
################################################################
[report]
# path to Jupyter .ipynb template(s). "," seperated list
path=~/devel/my_scripts/git_repo/pipeline_memechip/MEME_ChIP_Pipeline_Report.ipynb




